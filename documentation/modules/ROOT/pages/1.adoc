== 1. Preparar el Entorno

Para empezar, los facilitadores del taller os daremos acceso al cluster de OpenShift con vuestro usuario y contraseña. Recordad ambos porque os harán falta varias veces.

El objetivo de esta sección 1 es preparar el entorno donde trabajaremos. Desplegaremos un espacio de trabajo (un IDE) desde OpenShift AI para poder modificar código e interactuar por el terminal. 

¡Comencemos!

[#11]
=== 1.1 Entrar en OpenShift y OpenShift AI

image::access-to-openshift-ai.png[]

Como ves en la imagen, ve a la esquina superior derecha, abre el desplegable y clica en el acceso directo.

image::login.png[]

Introduce tu usuario y tu contraseña para entrar a la consola de OpenShift AI.

image::openshift-ai-homepage.png[]

¡Estamos dentro de OpenShift AI! Tu página de inicio debería parecerse a la imagen. 


[#12]
=== 1.2 Crear el Code Server

Queremos crear un espacio de trabajo, pero ¿dónde? Necesitamos un proyecto donde hacerlo. En la barra lateral, entra en la sección Projects.

image::create-project.png[]

Clica ahora en "Create project". Vamos a llamarle project-user<número-de-usuario>. Es decir, si tu usuario es el número 1, debería ser project-user1.

Al crear el proyecto, deberías ser redirigido a una página como la siguiente. Ahora, clica en "Create a workbench".

image::project-openshift-ai.png[]

Vamos a rellenar el formulario de creación del workbench como en la imagen. Cuando lo tengamos listo, confirmamos al botón inferior izquierdo "Create workbench".

image::workbench-form.png[]

¡Perfecto! El espacio de trabajo debería tardar uno o dos minutos en crearse. Una vez que el status sea "Running", clica en el nombre del workbench y se abrirá la pestaña del espacio de trabajo.

image::workbench-list.png[]

[#13]
=== 1.3 Configurar el Code Server

Si todo ha ido bien, te encontrarás en un editor de código basado en VS Code. El objetivo de estos entornos en OpenShift AI es acelerar el trabajo de los equipos de desarrollo, así pueden entrar fácilmente con una URL a un espacio de trabajo con todas las librerías que les hacen falta. Además, al estar definidos como un objeto de Kubernetes se pueden escalar y eliminar al momento.

Ahora vamos a clonar el repositorio del taller. Primero, vamos a crear un terminal clicando en el menú hamburguesa de la esquina superior izquierda y Terminal>New Terminal.

image::create-terminal.png[]

Ahora tienes el terminal en la parte inferior de la ventana. Ya disponemos del comando `git`, por lo que procedemos al `git clone`. Puedes copiar el comando clicando en el icono del portapapeles de la derecha.

Si tienes problemas al pegarlo, prueba a mantener `SHIFT`, `CTRL` y pulsar `V`. Si continúa sin pegar, puede ser que el navegador necesite permisos para hacerlo.

[.console-input]
[source,bash,subs="+macros,+attributes"]
----
git clone github.com/alpha-hack-program/llama-stack-demo
----

image::workbench-clone.png[]

Una vez hecho el `git clone`, deberías tener en la barra lateral izquierda el contenido del repositorio. Encontrarás los YAMLs de los objetos que vamos a desplegar.

Utilizaremos Helm para agilizar los despliegues en OpenShift, por lo que vamos a instalarlo. Copia los siguientes comandos en el terminal.

[.console-input]
[source,bash,subs="+macros,+attributes"]
----
mkdir -p $HOME/.local/bin && \
curl -L https://get.helm.sh/helm-v4.0.0-linux-amd64.tar.gz | tar -xzO linux-amd64/helm > $HOME/.local/bin/helm && \
chmod +x $HOME/.local/bin/helm
----

Para verificar que se ha instalado correctamente, prueba a escribir `helm` en el terminal.

Deberías tener un output como este:

[source,bash,subs="+macros,+attributes"]
----
helm
The Kubernetes package manager

Common actions for Helm:

- helm search:    search for charts
- helm pull:      download a chart to your local directory to view
- helm install:   upload the chart to Kubernetes
- helm list:      list releases of charts
...
[.console-input]
[source,bash,subs="+macros,+attributes"]
----

¡Genial! Ya tienes el IDE ya configurado, puedes pasar a la sección **2. Desarrollar el Servidor MCP**. 
